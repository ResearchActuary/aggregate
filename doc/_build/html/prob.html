
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Probability and Risk Theory &#8212; aggregate 0.6.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development Outline" href="devel.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="probability-and-risk-theory">
<h1>Probability and Risk Theory<a class="headerlink" href="#probability-and-risk-theory" title="Permalink to this headline">¶</a></h1>
<div class="section" id="discretizing-severity-distributions">
<h2>Discretizing Severity Distributions<a class="headerlink" href="#discretizing-severity-distributions" title="Permalink to this headline">¶</a></h2>
<p>There are two simple ways to discretize a continuous distribution.</p>
<ol class="arabic">
<li><p class="first">Approximate the distribution with a purely discrete distribution
supported at points <span class="math">\(x_k=x_0+kb\)</span>, <span class="math">\(k=0,1,\dots, N\)</span>. Call
<span class="math">\(b\)</span> the bucket size. The discrete probabilities are
<span class="math">\(p_k=P(x_k - b/2 &lt; X \le x_k+b/2)\)</span>. To create a rv_histogram
variable from <code class="docutils literal"><span class="pre">xs</span></code> and corresponding <code class="docutils literal"><span class="pre">p</span></code> values use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">xss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">xs</span><span class="p">,</span> <span class="n">xs</span> <span class="o">+</span> <span class="mf">1e-5</span><span class="p">)))</span>
<span class="n">pss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">((</span><span class="n">ps1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">ps1</span><span class="p">)))</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">,),</span> <span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">fz_discr</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">rv_histogram</span><span class="p">((</span><span class="n">pss</span><span class="p">,</span> <span class="n">xss</span><span class="p">))</span>
</pre></div>
</div>
</li>
</ol>
<p>The value 1e-5 just needs to be smaller than the resolution requested,
i.e.&nbsp;do not “split the bucket”. Generally histograms will be
downsampled, not upsampled, so this is not a restriction.</p>
<ol class="arabic" start="2">
<li><p class="first">Approximate the distribution with a continuous “histogram”
distribution that is uniform on <span class="math">\((x_k, x_{k+1}]\)</span>. The discrete
proababilities are <span class="math">\(p_k=P(x_k &lt; X \le x_{k+1})\)</span>. To create a
rv_histogram variable is much easier, just use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">xs2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">hstack</span><span class="p">((</span><span class="n">xs</span><span class="p">,</span> <span class="n">xs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">xs</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">fz_cts</span> <span class="o">=</span> <span class="n">ss</span><span class="o">.</span><span class="n">rv_histogram</span><span class="p">((</span><span class="n">ps2</span><span class="p">,</span> <span class="n">xs2</span><span class="p">))</span>
</pre></div>
</div>
</li>
</ol>
<p>The first method we call <strong>discrete</strong> and the second <strong>histogram</strong>. The
discrete method is appropriate when the distribution will be used and
interpreted as fully discrete, which is the assumption the FFT method
makes. The histogram method is useful if the distribution will be used
to create a scipy.stats rv_histogram variable. If the historgram method
is interpreted as discrete and if the mean is computed appropriately for
a discrete variable as <span class="math">\(\sum_i p_k x_k\)</span>, then the mean will be
under-estimated by <span class="math">\(b/2\)</span>.</p>
</div>
<div class="section" id="generalized-distributions">
<h2>Generalized Distributions<a class="headerlink" href="#generalized-distributions" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="fast-fourier-transforms">
<h2>Fast Fourier Transforms<a class="headerlink" href="#fast-fourier-transforms" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.PNG" alt="Logo"/>
    
    <h1 class="logo logo-name">aggregate</h1>
    
  </a>
</p>



<p class="blurb">aggregate is a Python package providing fast, accurate, and expressive datastructures designed to make working with probability distributions easy and intuitive.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=mynl&repo=aggregate&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to aggregate</a></li>
<li class="toctree-l1"><a class="reference internal" href="histapp.html">History and Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Probability and Risk Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="devel.html">Development Outline</a></li>
<li class="toctree-l1"><a class="reference internal" href="aggregate.html">distr Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="portfolio.html">Portfolio Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="distortion.html">Distortion Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="underwriter.html">Underwriter Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">Parser Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameters.html">Parameters Module</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Stephen J. Mildenhall.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/prob.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>